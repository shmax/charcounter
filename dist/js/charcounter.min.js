!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){n.fn.CharCounter=function(t){t=n.extend({max:255,method:"count",truncateAfterMax:!1,locale:"en",warningRatio:.2,containerTag:"span",containerClass:"charcounter-container",events:"keyup change"},t);var o=function(o){return n(document.createElement(t.containerTag)).addClass(t.containerClass).insertAfter(o)},e=function(o,e){var a=o.val(),r=a.length,u=t.max*(1-t.warningRatio);r>=u&&r<t.max?e.addClass(t.containerClass+"-warning"):e.removeClass(t.containerClass+"-warning"),r>=t.max?e.addClass(t.containerClass+"-danger"):e.removeClass(t.containerClass+"-danger"),t.truncateAfterMax&&o.val(a.substring(0,t.max)),e.html(n.fn.CharCounter.methods[t.method](n.fn.CharCounter.locales[t.locale],r,t.max,u))};return this.each(function(){var a=n(this),r=o(a);e(a,r),a.on(t.events,function(){e(a,r)})})},n.fn.CharCounter.methods={countdown:function(n,t,o,e){return t=o-t,t=0>t?0:t,n.countdown(t,t>1)},count:function(n,t,o,e){return n.count(t,t>1)},countOnMax:function(n,t,o,e){return n.countOnMax(t,t>1,o)},countdownAndTooMuch:function(n,t,o,e){t=o-t;var a=0>t?Math.abs(t):0;return t=0>t?0:t,n.countdownAndTooMuch(t,t>1,a)},countAndTooMuch:function(n,t,o,e){var a=0>o-t?Math.abs(o-t):0;return n.countAndTooMuch(t,t>1,a)}},n.fn.CharCounter.locales={},n.fn.CharCounter.locales.en={countdown:function(n,t){return n+" character"+(t?"s":"")+" remaining"},count:function(n,t){return n+" character"+(t?"s":"")},countOnMax:function(n,t,o){return this.count(n,t)+" / "+o},countdownAndTooMuch:function(n,t,o){return this.countdown(n,t)+(o>0?" ("+o+" too many)":"")},countAndTooMuch:function(n,t,o){return this.count(n,t)+(o>0?" ("+o+" too many)":"")}},n(document).ready(function(){n("[data-charcounter]").each(function(){n(this).CharCounter(n(this).data("charcounter"))})})});